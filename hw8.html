<html> <head> <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate"> <meta http-equiv="Pragma" content="no-cache"> <meta http-equiv="Expires" content="0"> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1"> <meta name="robots" content="noindex"> <title></title>
<style> { box-sizing: border-box; } .content { max-width:780; margin:auto; } .content_no_max_width { max-width:1000000000; margin:auto; } a {color:#C0F;} p {color:black;margin-top:.5em;margin-bottom:.5em;margin-left:0;margin-right:0;} img { max-width:780; display: block; margin-left: auto; margin-right: auto;} .comment { background-color:black;color:white; } body {font-family:serif,Menlo,monospace;font-size:1em;margin:24;background-color:white;color:black;white-space:pre-wrap;} math {white-space:normal;font-family:serif;}  code {
  color: purple;
  background-color: #f5f1f5;
  padding: 0px;
  font-family:Menlo,monospace;
}
.video-container { position: relative; padding-bottom: 56.25%; padding-top: 30px; height: 0; overflow: hidden; }
.video-container iframe, .video-container object, .video-container embed { position: absolute; top: 0; left: 0; width: 100%; height: 100%; }</style>
<script> MathJax = { tex: { inlineMath: [['$', '$'], ['\\(', '\\)']] } }; </script>
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"> </script>
</head><body><div class="content">

<a href="csci-371.html"><b><- back</b></a> <button onClick="window.print()" style="float:right;">print this page</button>

<center><b>hw8</b>
upload hw.cpp to <a href="https://glow.williams.edu/courses/3490435">glow</a>
<a href = "https://github.com/james-bern/CSCI-371">codebase</a>
<!--<a href = "https://youtube.com/embed/hOitzxWtbAo?rel=0">bare bones reference solution</a> | <a href = "https://youtube.com/embed/z2ka2rAIqXM?rel=0">‚ú® extra bits</a>-->
</center>
NOTE: You will be working entirely in world coordinates üëç

<b>a. (80 pts) software ray tracer</b>
Implement a software ray tracer with some bare bones lighting.
Your solution must get overlap correct, and should have shadows.
A perfect solution will include Phong lighting (or something vaguely similar).

Recommended development trajectory:
- (math and code in class) set up the rays--origin and direction--properly
- (math in class) intersect the ray with a triangle by solving a 4x4-matrix-vector equation; color pixel appropriate color if inside
- use a for loop to intersect with all the triangles
-

<b>sample code for iterating over the mesh</b><code>
// NOTE if you change num_triangles to 1 then you will just go over 1 triangle
int num_triangles = mesh->num_vertices / 3;
for (int triangle_i = 0; triangle_i < num_triangles; ++triangle_i) {
    // (a, b, c) -- triangle vertex positions in world coordinates
    // color_*   -- vertex colors
    // n         -- unit vector normal to triangle
    vec3 a, b, c;
    vec3 color_a, color_b, color_c;
    vec3 n;
    {
        a = mesh->vertex_positions[3 * triangle_i + 0];
        b = mesh->vertex_positions[3 * triangle_i + 1];
        c = mesh->vertex_positions[3 * triangle_i + 2];
        if (mesh->vertex_colors != NULL) {
            color_a = mesh->vertex_colors[3 * triangle_i + 0];
            color_b = mesh->vertex_colors[3 * triangle_i + 1];
            color_c = mesh->vertex_colors[3 * triangle_i + 2];
        } else {
            vec3 e1 = b - a;
            vec3 e2 = c - a;
            n = normalized(cross(e1, e2));
            vec3 fallback_color = V3(.5, .5, .5) + .5 * n;
            color_a = fallback_color;
            color_b = fallback_color;
            color_c = fallback_color;
        }
    }
}
</code>

<b>b. (20 pts) ray marching distance shaders</b> (Creative Coding; to be released soon.)
<a>https://iquilezles.org/articles/distfunctions/</a>

<hr><center>


<b>b. (20 pts) ray marching distance shaders</b> (To be released soon.)
<a>https://iquilezles.org/articles/distfunctions/</a>

<hr><center>
























<center>üêÑ</center>

</div></body></html>

<!--
              <details><summary>‚ú® HINT</summary> 
               TODO: add pseudocode
              </details>
-->
